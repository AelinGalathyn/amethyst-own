// ---------------------------- Users ---------------------------- \\
.textarea-_59yqs {
  margin-bottom: 5px;
  max-height: 150px; // Bit more sane don't you think
  transition: background 200ms ease;

  &:empty {
    height: 24px !important;
  }

  &:focus {
    background: rgba(var(--amethyst-primary-rgb), 0.05);
  }

  &::-webkit-scrollbar-thumb {
    background: var(--background-modifier-hover);
  }
}

// ---------------------------- Add role ---------------------------- \\
.container-2O1UgZ {
  box-shadow: var(--elevation-medium);
  border-color: var(--background-tertiary);
}

// ---------------------------- Context menus ---------------------------- \\
.activeIcon-1ykRnF { // Afaik just on switch account context menu
  @at-root .focused-3qFvc8 & { // I am a psychopath
    path {
      fill: white;
    }

    circle {
      fill: var(--brand-experiment);
    }
  }

  path {
    fill: var(--brand-experiment);
  }
}

// ---------------------------- Inbox, Pinned Messages ---------------------------- \\
.messagesPopoutWrap-3zryHW {
  max-height: 600px !important;
  width: fit-content;
  max-width: 480px;
}

// ---------------------------- Member list role tooltip ---------------------------- \\
#app-mount {
  .overflowRolesPopout-1Puiuq {
    overflow: auto;
    max-height: 350px;

    &::-webkit-scrollbar {
      width: 6px;

      &-thumb {
        background-clip: padding-box;
        border: 1px solid transparent;
        border-radius: 5px;
        background-color: var(--background-modifier-hover);
      }
    }

    &, .overflowRolesPopoutArrow-2R7g3K {
      box-shadow: var(--elevation-low);
      background-color: var(--background-secondary-alt);      
    }
  }
}

// ---------------------------- Sticker picker ---------------------------- \\
#sticker-picker-tab-panel {
  .iconWrapper-Tkg0P1,
  .iconWrapper-3pqduA {
    background: linear-gradient(90deg, var(--amethyst-nitro-gradient-colours));
  }
}

// ---------------------------- GIF picker ---------------------------- \\
#gif-picker-tab-panel {
  .result-3OpoO7 {
    background-color: var(--background-secondary-alt) !important;
  }

  .placeholder-2Mfkde {
    background-color: var(--background-modifier-hover);
  }

  .emptyHintCard-3Btf0V {
    background-color: var(--background-primary);
  }
}

// ---------------------------- Emoji picker ---------------------------- \\
#emoji-picker-tab-panel {
  .imageLoading-2uloYN {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJ4SURBVGhD7ZrPS1RBAMdHi7wYRCheRDwU/Tj1Ywk7eTAkaCE75r/QoWNBdOkgHcKT2a1zeogOnQTBolNFSBBpeIjwoLCHapNArfx837xZ19bdtdQ3M/C+8Nn5scL7fue9N7PM2GJ2qMOmq51iCPqhAN3QAXuhEizCW3gBz8pm+QdlUzUNgPFjFHdgGA6pLwOtwSTcI8inpKeO6gbAuMzehxvgjP+BHd+1/1T1NRRkDG4RRPUabWsG870UU3A86cjGeCPNw2VCfLbNTdWYwvxpihnoTDrC0VcYJMQb27TaEiAd+dcQmnn3BKzAuer3ohIA8wcp3sMp8P3INNIXOEmIn2q06iPVCMi8FKp5qQce2GpqlNHXVPkBspomd6vfcIK7sODuwG2Ixbwk33dVaWH0tcJqJWxTR0RahS4luQaxmdckoyemqACX1BOZ3CTTrwAXbT1KFRQgtEXrX9StAEdsPUp1KEDUygP4Vh7At/IAvpUH8K08gG/lAXwrD+BbeQDfUgBtqcSqkgLoZCRWLSrArK1HqVkFmLb1ZL8xNk1ra1G7EksQ2+7cOnS2ls2yTj6eJF1x3YWn8u6mUR3mKVHI5wLV+gXybA7oY9WslNpM+1Gq2mYM+XTGeRtn9B+ro2I03WZ/B+5kMlTpxLJAgOQg3D1CJu24Ct+TDps2NJVhyJmXKgEkvvhIcQW+ge5OSCFkvojHOdu02hJA4g9eUfSBjjLdI+Y7yAJcwNtL29xUTQApTXkeHoLe+CyDVF9D134EZ/8eeafKS1xPvNxnKG7CdchqsdP51wSMYrzhT52mAZzSFbsIA6BQ+/HvNjKrnzbPMa4FtomM2QCZZ49SFYlYmgAAAABJRU5ErkJggg==") !important;
  }
}

// ---------------------------- RTC connection ---------------------------- \\
.animatorTop-3ltI52 {
  box-shadow: var(--elevation-high);

  .section-2zQkYM {
    border-radius: 0 0 5px 5px;
    background-color: var(--background-secondary);
  }
}

// ---------------------------- Server popout ---------------------------- \\
#app-mount {
  .guildPopout-G6M0fK {
    background-color: var(--background-accent);
    box-shadow: 0 2px 10px 0 var(--background-primary), 0 0 3.5px 0.1px var(--background-secondary-alt);
  }
}

// ---------------------------- Emoji info popout ---------------------------- \\
.popoutLoadingForeground-3xnRkg {
  background-image: linear-gradient(
    90deg,
    var(--background-primary),
    var(--background-secondary),
    var(--background-primary)
  );
}

#app-mount {
  // ---------------------------- @everyone ---------------------------- \\
  .contentWarningPopout-WKdbDG {
    transform: translateZ(0);
    box-shadow: 0 5px 15px 0 var(--background-tertiary);
    background-color: var(--background-secondary-alt);

    > .footer-2aeMle {
      background-color: var(--background-secondary);
    }
  }

  // ---------------------------- Toasts ---------------------------- \\
  .powercord-toast {
    --toast-background: var(--background-secondary);
    --toast-header: var(--background-tertiary);
    --toast-contents: var(--background-primary);
    --toast-box-shadow: rgba(0, 0, 0, 0.2);
    --toast-border: var(--background-secondary-alt);
  }

  // ---------------------------- Autocomplete ---------------------------- \\
  .autocomplete-3NRXG8 {
    background-color: var(--background-secondary-alt);

    .categoryHeader-OpJ1Ly {
      background-color: var(--background-tertiary);
    }

    .selected-3H3-RC {
      background-color: var(--background-primary);
    }
  }

  // ---------------------------- Search menu ---------------------------- \\
  .container-2McqkF {
    background-color: var(--background-secondary);
    box-shadow: 0 0 0 1px var(--background-tertiary), 0 2px 10px 0 rgba(0, 0, 0, 0.2);

    > .queryContainer-ZunrLZ {
      border-bottom-color: var(--background-tertiary);
    
      &.focused-2FU0YH {
        background-color: var(--background-tertiary);
      }
    }

    .option-2KkUJO {
      &::after {
        background: transparent;
      }

      &[aria-selected="true"] {
        background-color: var(--background-secondary-alt) !important;
      }
    }
  }

  :is(.searchAnswer-23w-CH, .searchFilter-2UfsDk) {
    background-color: var(--background-accent);
  }

  // ---------------------------- Search datepicker ---------------------------- \\
  .react-datepicker {
    background: var(--background-secondary);
  
    &__navigation {
      border-color: var(--background-floating);
    }

    &__header {
      background-color: var(--background-secondary);
      border-color: var(--background-modifier-accent);
    }

    &__current-month {
      border-bottom-color: var(--background-modifier-accent);
    }

    &__day {
      border-color: var(--background-tertiary);

      &:hover {
        &:not(.react-datepicker__day--disabled) {
          background-color: var(--background-accent);
        }
      }

      &--today {
        &::after {
          background-color: var(--amethyst-brand);
        }
      }

      &--disabled,
      &--outside-month {
        background-color: var(--background-secondary-alt);
      }
    }
  }

  .datePickerHint-17MnA8 {
    border-top-color: var(--background-modifier-accent);
  }

  .hintValue-1x-flY {
    background-color: var(--channeltextarea-background);
  }

  // ---------------------------- Search results ---------------------------- \\
  .searchResult-O9NDji { // Scrollable search result
    overflow: auto;

    &::-webkit-scrollbar {
      height: 5px;

      &-thumb {
        border-radius: inherit;
        background-color: var(--background-secondary-alt);
      }
    }
  }

  .channelName-3w2Y3c { // Prettier channel jump button
    padding: 5px 0 5px 7px;
    border-radius: 8px;
    background-color: var(--channeltextarea-background);

    &:hover {
      text-decoration: none;
      background-color: var(--background-modifier-hover);
    }

    &:active {
      background-color: var(--background-modifier-active);
    }
  }

  // ---------------------------- Add friend to DM ---------------------------- \\
  .friendSelected-3cwmD7 {
    background-color :var(--background-accent);
  }
}